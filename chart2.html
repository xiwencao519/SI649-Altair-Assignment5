<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}, "header": {"titleFontSize": 16}}, "data": {"name": "data-5474202e609d9bc5fedd2ee619c49bd8"}, "facet": {"field": "year", "header": {"labelAngle": 0, "labelFontSize": 16, "labelPadding": -10}, "title": "year", "type": "nominal"}, "spec": {"layer": [{"data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/world-110m.json", "format": {"feature": "countries", "type": "topojson"}}, "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}, "projection": {"type": "naturalEarth1"}}, {"mark": {"type": "circle", "color": "green", "opacity": 0.8, "stroke": "white", "strokeOpacity": 0.8, "strokeWidth": 3}, "encoding": {"latitude": {"field": "lat", "type": "quantitative"}, "longitude": {"field": "lon", "type": "quantitative"}, "size": {"field": "population", "legend": {"labelFontSize": 14, "titleFontSize": 16}, "scale": {"range": [0, 2000]}, "title": "Population (million)", "type": "quantitative"}, "tooltip": [{"field": "city", "type": "nominal"}, {"field": "population", "type": "quantitative"}]}}, {"mark": {"type": "rect", "fillOpacity": 0, "stroke": "lightgrey", "strokeWidth": 1}, "encoding": {}}], "height": 300, "width": 450}, "columns": 2, "title": {"text": "The 20 Most Populous Cities in the World by 2100", "anchor": "start", "fontSize": 20, "fontWeight": "bold"}, "$schema": "https://vega.github.io/schema/vega-lite/v5.16.3.json", "datasets": {"data-5474202e609d9bc5fedd2ee619c49bd8": [{"city": "Tokyo", "population": 36.1, "year": 2010, "lat": 35.7, "lon": 139.7}, {"city": "Tokyo", "population": 36.4, "year": 2025, "lat": 35.7, "lon": 139.7}, {"city": "Tokyo", "population": 32.6, "year": 2050, "lat": 35.7, "lon": 139.7}, {"city": "Tokyo", "population": 28.9, "year": 2075, "lat": 35.7, "lon": 139.7}, {"city": "Mexico", "population": 20.1, "year": 2010, "lat": 23.6, "lon": -102.6}, {"city": "Mexico", "population": 21.0, "year": 2025, "lat": 23.6, "lon": -102.6}, {"city": "Mexico", "population": 24.3, "year": 2050, "lat": 23.6, "lon": -102.6}, {"city": "Mexico", "population": 24.2, "year": 2075, "lat": 23.6, "lon": -102.6}, {"city": "Mumbai", "population": 20.1, "year": 2010, "lat": 19.1, "lon": 72.9}, {"city": "Mumbai", "population": 26.4, "year": 2025, "lat": 19.1, "lon": 72.9}, {"city": "Mumbai", "population": 42.4, "year": 2050, "lat": 19.1, "lon": 72.9}, {"city": "Mumbai", "population": 57.9, "year": 2075, "lat": 19.1, "lon": 72.9}, {"city": "Mumbai", "population": 67.2, "year": 2100, "lat": 19.1, "lon": 72.9}, {"city": "Beijing", "population": 19.6, "year": 2010, "lat": 39.9, "lon": 116.4}, {"city": "Beijing", "population": 14.5, "year": 2025, "lat": 39.9, "lon": 116.4}, {"city": "Sao Paulo", "population": 19.6, "year": 2010, "lat": -23.6, "lon": -46.6}, {"city": "Sao Paulo", "population": 21.4, "year": 2025, "lat": -23.6, "lon": -46.6}, {"city": "Sao Paulo", "population": 22.8, "year": 2050, "lat": -23.6, "lon": -46.6}, {"city": "New York", "population": 19.4, "year": 2010, "lat": 40.7, "lon": -74.0}, {"city": "New York", "population": 20.6, "year": 2025, "lat": 40.7, "lon": -74.0}, {"city": "New York", "population": 24.8, "year": 2050, "lat": 40.7, "lon": -74.0}, {"city": "New York", "population": 27.9, "year": 2075, "lat": 40.7, "lon": -74.0}, {"city": "Delhi", "population": 17.0, "year": 2010, "lat": 28.7, "lon": 77.1}, {"city": "Delhi", "population": 22.5, "year": 2025, "lat": 28.7, "lon": 77.1}, {"city": "Delhi", "population": 36.2, "year": 2050, "lat": 28.7, "lon": 77.1}, {"city": "Delhi", "population": 49.3, "year": 2075, "lat": 28.7, "lon": 77.1}, {"city": "Delhi", "population": 57.3, "year": 2100, "lat": 28.7, "lon": 77.1}, {"city": "Shanghai", "population": 15.8, "year": 2010, "lat": 31.2, "lon": 121.5}, {"city": "Shanghai", "population": 19.4, "year": 2025, "lat": 31.2, "lon": 121.5}, {"city": "Shanghai", "population": 21.3, "year": 2050, "lat": 31.2, "lon": 121.5}, {"city": "Kolkata", "population": 15.6, "year": 2010, "lat": 22.6, "lon": 88.4}, {"city": "Kolkata", "population": 20.6, "year": 2025, "lat": 22.6, "lon": 88.4}, {"city": "Kolkata", "population": 33.0, "year": 2050, "lat": 22.6, "lon": 88.4}, {"city": "Kolkata", "population": 45.1, "year": 2075, "lat": 22.6, "lon": 88.4}, {"city": "Kolkata", "population": 52.4, "year": 2100, "lat": 22.6, "lon": 88.4}, {"city": "Dhaka", "population": 14.8, "year": 2010, "lat": 23.8, "lon": 90.4}, {"city": "Dhaka", "population": 22.0, "year": 2025, "lat": 23.8, "lon": 90.4}, {"city": "Dhaka", "population": 35.2, "year": 2050, "lat": 23.8, "lon": 90.4}, {"city": "Dhaka", "population": 46.2, "year": 2075, "lat": 23.8, "lon": 90.4}, {"city": "Dhaka", "population": 54.2, "year": 2100, "lat": 23.8, "lon": 90.4}, {"city": "Buenos Aires", "population": 13.1, "year": 2010, "lat": -34.6, "lon": -58.4}, {"city": "Buenos Aires", "population": 13.8, "year": 2025, "lat": -34.6, "lon": -58.4}, {"city": "Karachi", "population": 13.1, "year": 2010, "lat": 24.9, "lon": 67.0}, {"city": "Karachi", "population": 19.1, "year": 2025, "lat": 24.9, "lon": 67.0}, {"city": "Karachi", "population": 31.7, "year": 2050, "lat": 24.9, "lon": 67.0}, {"city": "Karachi", "population": 43.4, "year": 2075, "lat": 24.9, "lon": 67.0}, {"city": "Karachi", "population": 49.1, "year": 2100, "lat": 24.9, "lon": 67.0}, {"city": "Los Angeles", "population": 12.8, "year": 2010, "lat": 34.1, "lon": -118.2}, {"city": "Los Angeles", "population": 13.7, "year": 2025, "lat": 34.1, "lon": -118.2}, {"city": "Los Angeles", "population": 16.4, "year": 2050, "lat": 34.1, "lon": -118.2}, {"city": "Cairo", "population": 12.5, "year": 2010, "lat": 30.0, "lon": 31.2}, {"city": "Cairo", "population": 15.6, "year": 2025, "lat": 30.0, "lon": 31.2}, {"city": "Cairo", "population": 24.0, "year": 2050, "lat": 30.0, "lon": 31.2}, {"city": "Cairo", "population": 33.0, "year": 2075, "lat": 30.0, "lon": 31.2}, {"city": "Cairo", "population": 40.5, "year": 2100, "lat": 30.0, "lon": 31.2}, {"city": "Rio De Janeiro", "population": 12.2, "year": 2010, "lat": -22.9, "lon": -43.2}, {"city": "Rio De Janeiro", "population": 13.4, "year": 2025, "lat": -22.9, "lon": -43.2}, {"city": "Manila", "population": 11.7, "year": 2010, "lat": 14.6, "lon": 121.0}, {"city": "Manila", "population": 14.8, "year": 2025, "lat": 14.6, "lon": 121.0}, {"city": "Manila", "population": 23.5, "year": 2050, "lat": 14.6, "lon": 121.0}, {"city": "Manila", "population": 32.7, "year": 2075, "lat": 14.6, "lon": 121.0}, {"city": "Manila", "population": 40.0, "year": 2100, "lat": 14.6, "lon": 121.0}, {"city": "Moscow", "population": 11.5, "year": 2010, "lat": 55.8, "lon": 37.6}, {"city": "Osaka-Kobe", "population": 11.3, "year": 2010, "lat": 34.7, "lon": 135.2}, {"city": "Istanbul", "population": 10.8, "year": 2010, "lat": 41.0, "lon": 29.0}, {"city": "Istanbul", "population": 12.1, "year": 2025, "lat": 41.0, "lon": 29.0}, {"city": "Lagos", "population": 10.6, "year": 2010, "lat": 6.5, "lon": 3.4}, {"city": "Lagos", "population": 15.8, "year": 2025, "lat": 6.5, "lon": 3.4}, {"city": "Lagos", "population": 32.6, "year": 2050, "lat": 6.5, "lon": 3.4}, {"city": "Lagos", "population": 57.2, "year": 2075, "lat": 6.5, "lon": 3.4}, {"city": "Lagos", "population": 88.3, "year": 2100, "lat": 6.5, "lon": 3.4}, {"city": "Kinshasa", "population": 16.8, "year": 2025, "lat": -4.4, "lon": 15.3}, {"city": "Kinshasa", "population": 35.0, "year": 2050, "lat": -4.4, "lon": 15.3}, {"city": "Kinshasa", "population": 58.4, "year": 2075, "lat": -4.4, "lon": 15.3}, {"city": "Kinshasa", "population": 83.5, "year": 2100, "lat": -4.4, "lon": 15.3}, {"city": "Jakarta", "population": 12.4, "year": 2025, "lat": -6.2, "lon": 106.9}, {"city": "Lahore", "population": 17.4, "year": 2050, "lat": 31.5, "lon": 74.4}, {"city": "Lahore", "population": 23.9, "year": 2075, "lat": 31.5, "lon": 74.4}, {"city": "Kabul", "population": 17.1, "year": 2050, "lat": 34.6, "lon": 69.2}, {"city": "Kabul", "population": 32.7, "year": 2075, "lat": 34.6, "lon": 69.2}, {"city": "Kabul", "population": 50.3, "year": 2100, "lat": 34.6, "lon": 69.2}, {"city": "Chennai", "population": 16.3, "year": 2050, "lat": 13.1, "lon": 80.3}, {"city": "Chennai", "population": 22.2, "year": 2075, "lat": 13.1, "lon": 80.3}, {"city": "Khartoum", "population": 16.0, "year": 2050, "lat": 15.6, "lon": 32.5}, {"city": "Khartoum", "population": 30.7, "year": 2075, "lat": 15.6, "lon": 32.5}, {"city": "Khartoum", "population": 56.6, "year": 2100, "lat": 15.6, "lon": 32.5}, {"city": "Dar Es Salaam", "population": 16.0, "year": 2050, "lat": -6.8, "lon": 39.3}, {"city": "Dar Es Salaam", "population": 37.5, "year": 2075, "lat": -6.8, "lon": 39.3}, {"city": "Dar Es Salaam", "population": 73.7, "year": 2100, "lat": -6.8, "lon": 39.3}, {"city": "Nairobi", "population": 28.4, "year": 2075, "lat": -1.3, "lon": 36.8}, {"city": "Nairobi", "population": 46.7, "year": 2100, "lat": -1.3, "lon": 36.8}, {"city": "Baghdad", "population": 24.4, "year": 2075, "lat": 33.3, "lon": 44.4}, {"city": "Addis Ababa", "population": 23.7, "year": 2075, "lat": 9.0, "lon": 38.8}, {"city": "Addis Ababa", "population": 35.8, "year": 2100, "lat": 9.0, "lon": 38.8}, {"city": "Niamey", "population": 56.1, "year": 2100, "lat": 13.5, "lon": 2.1}, {"city": "Lilongwe", "population": 41.4, "year": 2100, "lat": -14.0, "lon": 33.8}, {"city": "Blantyre City", "population": 40.9, "year": 2100, "lat": -15.8, "lon": 35.0}, {"city": "Kampala", "population": 40.1, "year": 2100, "lat": 0.3, "lon": 32.6}, {"city": "Lusaka", "population": 37.7, "year": 2100, "lat": -15.4, "lon": 28.3}, {"city": "Mogadishu", "population": 36.4, "year": 2100, "lat": 2.0, "lon": 45.3}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>